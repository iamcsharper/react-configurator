import { Meta, Story, Source } from '@storybook/addon-docs';
import { useForm } from 'react-hook-form';
import Select from '@components/controls/Select';
import Button from '@components/controls/Button';
import Form from '@components/controls/Form';

<Meta title="Components / Controls / Select" component={Select} />

# Компонент Select

<Story
  name="Basic"
  args={{
    variant: 'primary',
    label: 'Label clickable',
    items: [
      {
        label: 'not selected',
        value: 0,
      },
      {
        label: 'test',
        value: 1,
      },
      {
        label: 'test2',
        value: 2,
      },
      {
        label: 'test3',
        value: 3,
      },
      {
        label: 'test4',
        value: 4,
      },
      {
        label: 'test5',
        value: 5,
      },
    ],
  }}
>
  {(args) => {
    const methods = useForm({
      defaultValues: { select: 0 },
    });
    return (
      <Form methods={methods} onSubmit={(vals) => console.log(vals)}>
        <Form.Field
          name="select"
          css={{
            marginBottom: 16,
          }}
        >
          <Select {...args} />
        </Form.Field>
        <Button type="submit" rounded>
          Отправить
        </Button>
      </Form>
    );
  }}
</Story>
