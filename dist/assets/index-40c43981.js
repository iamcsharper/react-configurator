import{a as e,M as S,j as m,c as i,s as n,f as b,u as v,r as u,O,F as D,b as y,d as I,P as p,Q as g,S as T,R as U,i as M}from"./index-6de08c49.js";import{P as A,F as B,D as x,a as c,C as h,b as j,u as F,s as P,c as _}from"./Component-dda658bc.js";import{u as E,M as f}from"./usePrevious-717f36de.js";const N=[{key:"Кастомный",content:e("b",{children:"Кастомный"}),value:"CUSTOM"},...S.map(r=>({key:r,value:r}))],V=()=>{const r=b(),[a,s]=v({name:["enabled","algorithm"]}),t=s==="CUSTOM",o=E(s),[l,R]=u.useState(!1);return u.useEffect(()=>{if(!l||a===void 0||s===void 0||s===o)return;if(s==="CUSTOM"||!s){r.reset({enabled:a,algorithm:"CUSTOM",init:"",poly:"",refIn:!1,refOut:!1,xorOut:""},{keepDirty:!0,keepTouched:!0,keepIsSubmitted:!1,keepDefaultValues:!0});return}const C=s,k=O[C];r.reset({enabled:a,algorithm:C,...k},{keepDirty:!0,keepTouched:!0,keepIsSubmitted:!1,keepDefaultValues:!0})},[s,r,a,o,l]),u.useLayoutEffect(()=>{R(!0)},[]),a?m(D,{children:[e(c.Field,{name:"algorithm",css:i({marginBottom:n(2)},"",""),children:e(B,{label:m("div",{css:i({display:"flex",gap:n(1)},"",""),children:[e("span",{children:"Алгоритм"}),e(x,{title:"Алгоритм CRC",description:"Информация. TODO"})]}),options:N})}),e(c.Field,{name:"poly",label:"Poly",css:i({marginBottom:n(2)},"",""),disabled:!t,children:e(f,{mask:[{mask:"{\\0x}#### ####",definitions:{"#":/[0-9a-f]/gi},prepare:d=>d.toUpperCase()}]})}),e(c.Field,{name:"init",label:"Init",css:i({marginBottom:n(2)},"",""),disabled:!t,children:e(f,{mask:[{mask:"{\\0x}#### ####",definitions:{"#":/[0-9a-f]/gi},prepare:d=>d.toUpperCase()}]})}),e(c.Field,{name:"xorOut",label:"XOR out",css:i({marginBottom:n(2)},"",""),disabled:!t,children:e(f,{mask:[{mask:"{\\0x}#### ####",definitions:{"#":/[0-9a-f]/gi},prepare:d=>d.toUpperCase()}]})}),e(c.Field,{name:"refIn",css:i({marginBottom:n(2)},"",""),disabled:!t,children:e(h,{children:"Ref IN"})}),e(c.Field,{name:"refOut",disabled:!t,children:e(h,{children:"Ref OUT"})}),e(j,{})]}):null},L=()=>m("div",{css:i({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:n(1)},"",""),children:[e(c.Field,{name:"enabled",children:e(h,{children:"Включить CRC"})}),e(x,{title:"CRC",description:"Информация об CRC"})]});var W={name:"huyey5",styles:"min-height:100%;display:grid"},w={name:"14ggdrv",styles:"height:100%;display:flex;flex-direction:column;justify-content:space-between"};const K=({children:r})=>{const a=F(),s=y(o=>o.crypto.crc),t=I({defaultValues:s,mode:"all",resolver:P(T)});return e("div",{css:W,children:e(c,{methods:t,onSubmit:o=>{a(p(o)),t.reset(o)},onReset:(o,l)=>{l!=null&&l.keepIsSubmitted&&(a(p(t.getValues())),t.reset())},css:w,children:r})})},Q=()=>{const r=b(),a=y(t=>t.crypto.crc),s=F();return e(_,{onDefaultReset:()=>{s(p(g)),r.reset(g)},onReset:()=>{r.reset(a)},css:i({padding:n(2),justifyContent:"end"},"","")})},X=()=>m(K,{children:[m(A,{title:"Настройки CRC",children:[e(L,{}),e("div",{css:i({marginTop:n(2)},"",""),children:e(V,{})})]}),e(Q,{})]}),H=()=>e(M,{children:e(U,{path:"crc",element:e(X,{})})});export{H as default};
