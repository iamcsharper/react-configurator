import{j as m,c as i,s as t,a as e,T as c,f as S,u as y,r as v,aj as h,ak as O,al as P,am as R,an as x,ao as B,F as g,ap as I,aq as j,ar as C,as as E,b,d as M,at as f,au as T,av as k,R as D,m as A}from"./index-c4e2f641.js";import{D as V,P as W,F as d,a as o,b as L,u as F,s as _,c as w}from"./Component-aa69d3c5.js";import{u as z}from"./usePrevious-b169fd3b.js";const p=({children:n,...r})=>m("div",{css:i({display:"flex",gap:t(1),alignItems:"baseline"},"",""),children:[e("span",{children:n}),e(V,{...r})]}),q=()=>{const{setValue:n,trigger:r}=S(),[l]=y({name:["mode"]}),a=z(l);return v.useEffect(()=>{a&&l===h.MASTER&&a!==h.MASTER&&(Object.keys(O).forEach(s=>{n(s,O[s],{shouldValidate:!1,shouldDirty:!1,shouldTouch:!1})}),r())},[l,a,n,r]),l===h.DISABLED?null:m(g,{children:[e(o.Field,{name:"divider",css:i({marginBottom:t(2)},"",""),children:e(d,{label:e(p,{title:"TODO",description:"TODO",children:"Делитель частоты"}),options:P})}),e(o.Field,{name:"tickPhase",css:i({marginBottom:t(2)},"",""),children:e(d,{label:e(p,{title:"TODO",description:"TODO",children:"Фаза тактового сигнала"}),options:R})}),e(o.Field,{name:"tickPolarity",css:i({marginBottom:t(2)},"",""),children:e(d,{label:e(p,{title:"TODO",description:"TODO",children:"Полярность тактового сигнала вне слова"}),options:x})}),e(o.Field,{name:"packageSize",css:i({marginBottom:t(2)},"",""),children:e(d,{label:e(p,{title:"TODO",description:"TODO",children:"Длина передаваемой посылки"}),options:B})}),l===h.MASTER&&m(g,{children:[e(o.Field,{name:"peripheralDecoder",css:i({marginBottom:t(2)},"",""),children:e(d,{label:e(p,{title:"TODO",description:"TODO",children:"Периферийный декодер"}),options:I})}),e(o.Field,{name:"slaveSignalControl",css:i({marginBottom:t(2)},"",""),children:e(d,{label:e(p,{title:"TODO",description:"TODO",children:"Режим управления сигналом выбора ведомого"}),options:j})}),e(o.Field,{name:"slave",css:i({marginBottom:t(2)},"",""),children:e(d,{label:e(p,{title:"TODO",description:"TODO",children:"Ведомый"}),options:C})})]}),e(L,{})]})},U=()=>e("div",{css:i({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:t(1)},"",""),children:e(o.Field,{name:"mode",label:e(p,{title:"Spi",description:"Информация об Spi",children:"Режим работы"}),children:e(d,{options:E})})});var G={name:"huyey5",styles:"min-height:100%;display:grid"},H={name:"14ggdrv",styles:"height:100%;display:flex;flex-direction:column;justify-content:space-between"};const J=({children:n})=>{const r=F(),l=b(s=>s.interface.spi),a=M({defaultValues:l,mode:"all",resolver:_(k)});return e("div",{css:G,children:e(o,{methods:a,onSubmit:s=>{s.mode!==h.MASTER&&(delete s.peripheralDecoder,delete s.slaveSignalControl,delete s.slave),r(f(s)),a.reset(s)},onReset:(s,u)=>{u!=null&&u.keepIsSubmitted&&(r(f(a.getValues())),a.reset())},css:H,children:n})})},K=()=>{const n=S(),r=b(a=>a.interface.spi),l=F();return e(w,{onDefaultReset:()=>{l(f(T)),n.reset(T)},onReset:()=>{n.reset(r)},css:i({padding:t(2),justifyContent:"end"},"","")})},N=()=>m(J,{children:[m(W,{title:"Настройки spi",children:[e(U,{}),m(c,{css:i({marginTop:t(2)},"",""),forceRenderTabPanel:!0,children:[m(c.List,{children:[e(c.Tab,{children:"Настройки"}),e(c.Tab,{children:"DMA"}),e(c.Tab,{children:"Прерывания"})]}),e(c.Panel,{children:e(q,{})}),e(c.Panel,{children:"В работе"}),e(c.Panel,{children:"В работе"})]})]}),e(K,{})]}),Z=()=>m(A,{children:[e(D,{path:"spi",element:e(N,{})}),e(D,{path:"*",element:e("p",{children:"Work in progress"})})]});export{Z as default};
