import{a as e,S,j as m,c as i,s as n,f as b,u as v,r as u,U as D,F as I,b as y,d as O,W as p,X as g,Y as T,R as U,m as A}from"./index-433167f0.js";import{P as B,F as M,D as x,a as c,M as f,C as h,b as j,u as F,s as _,c as E}from"./index-86857218.js";import{u as P}from"./usePrevious-50ed8b60.js";const N=[{key:"Кастомный",content:e("b",{children:"Кастомный"}),value:"CUSTOM"},...S.map(r=>({key:r,value:r}))],V=()=>{const r=b(),[a,s]=v({name:["enabled","algorithm"]}),t=s==="CUSTOM",o=P(s),[l,R]=u.useState(!1);return u.useEffect(()=>{if(!l||a===void 0||s===void 0||s===o)return;if(s==="CUSTOM"||!s){r.reset({enabled:a,algorithm:"CUSTOM",init:"",poly:"",refIn:!1,refOut:!1,xorOut:""},{keepDirty:!0,keepTouched:!0,keepIsSubmitted:!1,keepDefaultValues:!0});return}const C=s,k=D[C];r.reset({enabled:a,algorithm:C,...k},{keepDirty:!0,keepTouched:!0,keepIsSubmitted:!1,keepDefaultValues:!0})},[s,r,a,o,l]),u.useLayoutEffect(()=>{R(!0)},[]),a?m(I,{children:[e(c.Field,{name:"algorithm",css:i({marginBottom:n(2)},"",""),children:e(M,{label:m("div",{css:i({display:"flex",gap:n(1)},"",""),children:[e("span",{children:"Алгоритм"}),e(x,{title:"Алгоритм CRC",description:"Информация. TODO"})]}),options:N})}),e(c.Field,{name:"poly",label:"Poly",css:i({marginBottom:n(2)},"",""),disabled:!t,children:e(f,{mask:[{mask:"{\\0x}#### ####",definitions:{"#":/[0-9a-f]/gi},prepare:d=>d.toUpperCase()}]})}),e(c.Field,{name:"init",label:"Init",css:i({marginBottom:n(2)},"",""),disabled:!t,children:e(f,{mask:[{mask:"{\\0x}#### ####",definitions:{"#":/[0-9a-f]/gi},prepare:d=>d.toUpperCase()}]})}),e(c.Field,{name:"xorOut",label:"XOR out",css:i({marginBottom:n(2)},"",""),disabled:!t,children:e(f,{mask:[{mask:"{\\0x}#### ####",definitions:{"#":/[0-9a-f]/gi},prepare:d=>d.toUpperCase()}]})}),e(c.Field,{name:"refIn",css:i({marginBottom:n(2)},"",""),disabled:!t,children:e(h,{children:"Ref IN"})}),e(c.Field,{name:"refOut",disabled:!t,children:e(h,{children:"Ref OUT"})}),e(j,{})]}):null},W=()=>m("div",{css:i({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:n(1)},"",""),children:[e(c.Field,{name:"enabled",children:e(h,{children:"Включить CRC"})}),e(x,{title:"CRC",description:"Информация об CRC"})]});var L={name:"huyey5",styles:"min-height:100%;display:grid"},w={name:"14ggdrv",styles:"height:100%;display:flex;flex-direction:column;justify-content:space-between"};const X=({children:r})=>{const a=F(),s=y(o=>o.crypto.crc),t=O({defaultValues:s,mode:"all",resolver:_(T)});return e("div",{css:L,children:e(c,{methods:t,onSubmit:o=>{a(p(o)),t.reset(o)},onReset:(o,l)=>{l!=null&&l.keepIsSubmitted&&(a(p(t.getValues())),t.reset())},css:w,children:r})})},K=()=>{const r=b(),a=y(t=>t.crypto.crc),s=F();return e(E,{onDefaultReset:()=>{s(p(g)),r.reset(g)},onReset:()=>{r.reset(a)},css:i({padding:n(2),justifyContent:"end"},"","")})},Y=()=>m(X,{children:[m(B,{title:"Настройки CRC",children:[e(W,{}),e("div",{css:i({marginTop:n(2)},"",""),children:e(V,{})})]}),e(K,{})]}),H=()=>e(A,{children:e(U,{path:"crc",element:e(Y,{})})});export{H as default};
