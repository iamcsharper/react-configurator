import{j as p,c as s,s as i,a as e,T as o,f as b,u as y,r as P,aj as f,ak as O,al as x,am as C,an as R,ao as B,F as S,ap as I,aq as j,ar as E,as as M,at as k,b as v,d as A,au as g,av as T,aw as V,R as D,m as w}from"./index-bbdaeca7.js";import{D as W,P as L,F as c,a as r,b as _,u as F,f as z,s as U,c as q}from"./Component-14299a9d.js";import{u as G}from"./usePrevious-1bb44d69.js";const d=({children:t,...a})=>p("div",{css:s({display:"flex",gap:i(1),alignItems:"baseline"},"",""),children:[e("span",{children:t}),e(W,{...a})]}),H=()=>{const{setValue:t,trigger:a}=b(),[n,h]=y({name:["mode","slaveSignalControl"]}),l=G(n);return P.useEffect(()=>{l&&n===f.MASTER&&l!==f.MASTER&&(Object.keys(O).forEach(m=>{t(m,O[m],{shouldValidate:!1,shouldDirty:!1,shouldTouch:!1})}),a())},[n,l,t,a]),n===f.DISABLED?null:p(S,{children:[e(r.Field,{name:"divider",css:s({marginBottom:i(2)},"",""),children:e(c,{label:e(d,{title:"TODO",description:"TODO",children:"Делитель частоты"}),options:x})}),e(r.Field,{name:"tickPhase",css:s({marginBottom:i(2)},"",""),children:e(c,{label:e(d,{title:"TODO",description:"TODO",children:"Фаза тактового сигнала"}),options:C})}),e(r.Field,{name:"tickPolarity",css:s({marginBottom:i(2)},"",""),children:e(c,{label:e(d,{title:"TODO",description:"TODO",children:"Полярность тактового сигнала вне слова"}),options:R})}),e(r.Field,{name:"packageSize",css:s({marginBottom:i(2)},"",""),children:e(c,{label:e(d,{title:"TODO",description:"TODO",children:"Длина передаваемой посылки"}),options:B})}),n===f.MASTER&&p(S,{children:[e(r.Field,{name:"peripheralDecoder",css:s({marginBottom:i(2)},"",""),children:e(c,{label:e(d,{title:"TODO",description:"TODO",children:"Периферийный декодер"}),options:I})}),e(r.Field,{name:"slaveSignalControl",css:s({marginBottom:i(2)},"",""),children:e(c,{label:e(d,{title:"TODO",description:"TODO",children:"Режим управления сигналом выбора ведомого"}),options:j})}),h===E.AUTO&&e(r.Field,{name:"slave",css:s({marginBottom:i(2)},"",""),children:e(c,{label:e(d,{title:"TODO",description:"TODO",children:"Ведомый"}),options:M})})]}),e(_,{})]})},J=()=>e("div",{css:s({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:i(1)},"",""),children:e(r.Field,{name:"mode",label:e(d,{title:"Spi",description:"Информация об Spi",children:"Режим работы"}),children:e(c,{options:k})})});var K={name:"huyey5",styles:"min-height:100%;display:grid"},N={name:"14ggdrv",styles:"height:100%;display:flex;flex-direction:column;justify-content:space-between"};const Q=({children:t})=>{const a=F(),n=z(),h=v(m=>m.interface.spi),l=A({defaultValues:h,mode:"all",resolver:U(V)});return e("div",{css:K,children:e(r,{methods:l,onSubmit:m=>{a(g(m));const u=n.getState().interface.spi;l.reset(u)},onReset:(m,u)=>{u!=null&&u.keepIsSubmitted&&(a(g(l.getValues())),l.reset())},css:N,children:t})})},X=()=>{const t=b(),a=v(h=>h.interface.spi),n=F();return e(q,{onDefaultReset:()=>{n(g(T)),t.reset(T)},onReset:()=>{t.reset(a)},css:s({padding:i(2),justifyContent:"end"},"","")})},Y=()=>p(Q,{children:[p(L,{title:"Настройки spi",children:[e(J,{}),p(o,{css:s({marginTop:i(2)},"",""),forceRenderTabPanel:!0,children:[p(o.List,{children:[e(o.Tab,{children:"Настройки"}),e(o.Tab,{children:"DMA"}),e(o.Tab,{children:"Прерывания"})]}),e(o.Panel,{children:e(H,{})}),e(o.Panel,{children:"В работе"}),e(o.Panel,{children:"В работе"})]})]}),e(X,{})]}),se=()=>p(w,{children:[e(D,{path:"spi",element:e(Y,{})}),e(D,{path:"*",element:e("p",{children:"Work in progress"})})]});export{se as default};
